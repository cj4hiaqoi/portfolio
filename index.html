<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Portfolio</title>
		<style>
			:root {
				--gallery-aspect: 16 / 9;

				--bg-main: #1b1020;
				--bg-header: #301438;
				--bg-content: #120b18;

				--accent: #ff99cc;
				--accent-alt: #ffffff;

				--header-grad-top: #8a4dff;
				--header-grad-bottom: #3a1455;

				--card-grad-top: #8a4dff;
				--card-grad-bottom: #3a1455;

				--win95-gray: #c0c0c0;
				--win95-dark: #404040;
				--win95-border-light: #ffffff;
				
				--bg-image-offset: 0px;
			}

			body {
				margin: 0;
				font-family: Verdana, Tahoma, Arial, sans-serif;
				font-size: 14px;

				color: #ffffff;

				/* Bottom layer: your full bright gradient */
				background-image: 
					linear-gradient(to bottom, var(--header-grad-top), var(--header-grad-bottom));

				background-repeat: no-repeat;
				background-size: cover;
				background-attachment: fixed;

				position: relative;
				overflow-x: hidden;
			}
			body::before {
				content: "";
				position: fixed;
				top: 0;
				right: 0;
				width: 100vw;
				height: 100vh;

				background-image: url("/portfolio/assets/bg.png");
				background-repeat: no-repeat;
				background-size: auto;

				/* Will be controlled by variable for parallax */
				background-position: right var(--bg-image-offset);

				pointer-events: none;
				z-index: -1;
			}

			a {
				color: var(--accent);
				text-decoration: underline;
			}
			a:hover {
				text-decoration: none;
			}
			.page-wrap {
				max-width: 960px;
				margin: 0 auto;
				border-left: 2px solid var(--win95-border-light);
				border-right: 2px solid var(--win95-border-light);
				background-color: var(--bg-content);
			}
			header {
				text-align: center;
				padding: 20px 10px 10px;
				border-bottom: 2px solid var(--win95-border-light);
				background: var(--bg-header) url("header-tile.gif");
				background-repeat: repeat;
			}
			header h1 {
				font-size: 32px;
				margin: 0;
				color: var(--accent-alt);
				text-shadow: 1px 1px 0 #000000;
				letter-spacing: 1px;
			}
			.header-bar {
				margin: 8px auto 0;
				max-width: 700px;
				padding: 6px 8px;
				font-size: 13px;
				color: #ffffff;
				background: linear-gradient(to bottom, var(--header-grad-top), var(--header-grad-bottom));
				border: 1px solid var(--win95-border-light);
				text-align: center;
			}
			nav {
				display: flex;
				flex-wrap: wrap;
				gap: 6px;
				justify-content: center;
				margin: 10px 0 4px;
				padding-bottom: 4px;
			}
			nav button {
				padding: 4px 12px;
				font-size: 11px;
				text-transform: uppercase;
				letter-spacing: 0.5px;
				cursor: pointer;
				border-width: 2px;
				border-style: solid;
				border-color: var(--win95-border-light) #333333 #333333 var(--win95-border-light);
				background: var(--win95-gray);
				color: #000000;
				box-shadow: inset 0 0 0 1px var(--win95-border-light);
				border-radius: 0;
			}
			nav button:hover {
				background: #e8e8e8;
			}
			nav button.active {
				background: #ffffff;
				color: #000000;
			}
			.divider {
				height: 6px;
				background: var(--win95-gray);
				border-top: 2px solid var(--win95-border-light);
				border-bottom: 2px solid var(--win95-dark);
				margin: 0;
			}
			.content-section {
				background-color: var(--bg-content);
				background-image: url("content-tile.gif");
				background-repeat: repeat;
				padding: 15px 10px 40px;
				max-width: 960px;
				margin: 0 auto;
				border-top: 2px solid var(--win95-border-light);
				border-bottom: 2px solid var(--win95-border-light);
				min-height: 50vh;
			}
			.cards-container {
				column-count: 1;
				column-gap: 20px;
				max-width: 940px;
				margin: 0 auto;
			}
			@media (min-width: 900px) {
				.cards-container {
					column-count: 2;
				}
			}
			.card {
				display: inline-block;
				width: 100%;
				margin: 0 0 20px;
				break-inside: avoid;
				box-sizing: border-box;
				text-align: left;
				position: relative;
				background-color: #000022;
				border: 1px solid #99ccff;
				border-radius: 0;
				box-shadow:
					inset 0 0 0 1px #000000,
					1px 1px 0 #000000;
				padding: 8px;
			}
			.card-header {
				background: linear-gradient(to bottom, var(--card-grad-top), var(--card-grad-bottom));
				padding: 6px 8px;
				margin: -8px -8px 8px;
				border-bottom: 1px solid #000000;
			}
			.card-header h2 {
				margin: 0;
				font-size: 16px;
				color: var(--accent-alt);
				text-shadow: 1px 1px 0 #000000;
			}
			.card-header .subtext {
				margin: 2px 0 0;
				font-size: 11px;
				color: #ddddff;
			}
			.card img,
			.card video {
				width: 100%;
				border-radius: 0;
				margin-bottom: 8px;
				display: block;
				border: 2px solid #000000;
			}
			.gallery {
				margin-bottom: 8px;
			}
			.gallery-image-wrapper {
				position: relative;
				width: 100%;
				aspect-ratio: var(--gallery-aspect);
				overflow: hidden;
				border: 2px solid #000000;
				background-color: #000000;
			}
			.gallery-image {
				width: 100%;
				height: 100%;
				object-fit: contain;
				display: block;
				margin: 0 auto;
			}
			.gallery-counter {
				position: absolute;
				top: 4px;
				left: 4px;
				padding: 2px 6px;
				font-size: 10px;
				color: #000000;
				background-color: #c0c0c0;
				border-top: 2px solid #ffffff;
				border-left: 2px solid #ffffff;
				border-right: 2px solid #404040;
				border-bottom: 2px solid #404040;
			}
			.gallery-arrow {
				position: absolute;
				top: 0;
				bottom: 0;
				width: 40px;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 16px;
				color: #ffffff;
				text-shadow: 1px 1px 0 #000000;
				cursor: pointer;
				opacity: 0;
				transition:
					opacity 0.15s linear,
					background-color 0.1s linear;
				user-select: none;
				-webkit-user-select: none;
				-moz-user-select: none;
			}
			.gallery-arrow-left {
				left: 0;
			}
			.gallery-arrow-right {
				right: 0;
			}
			.gallery:hover .gallery-arrow {
				opacity: 1;
			}
			.gallery-arrow:hover {
				background-color: rgba(128, 128, 128, 0.35);
			}
			.win95-panel {
				margin-top: 6px;
				background-color: #c0c0c0;
				border-top: 2px solid #ffffff;
				border-left: 2px solid #ffffff;
				border-right: 2px solid #404040;
				border-bottom: 2px solid #404040;
				padding: 0;
			}
			.win95-tabs {
				display: flex;
				align-items: center;
				gap: 4px;
				padding: 4px 4px 0;
			}
			.win95-tab {
				font-size: 11px;
				padding: 2px 10px;
				background-color: #c0c0c0;
				color: #000000;
				border: none;
				box-shadow: none;
			}
			.win95-tab.active {
				background-color: #c0c0c0;
				color: #000000;
				border: none;
				box-shadow:
					inset 1px 1px 0 #ffffff,
					inset -1px -1px 0 #808080;
			}
			.win95-body {
				margin: 4px 4px 4px;
				background-color: #ffffff;
				border-top: 1px solid #808080;
				border-left: 1px solid #808080;
				border-right: 1px solid #ffffff;
				border-bottom: 1px solid #ffffff;
				padding: 8px;
				font-size: 12px;
				color: #000000;
			}
			.win95-body p {
				margin: 0;
				color: #000000;
			}
			.tags {
				display: flex;
				flex-wrap: wrap;
				gap: 4px;
				margin: 0;
				padding: 0;
			}
			.tag {
				position: relative;
				padding: 2px 8px;
				font-size: 11px;
				cursor: help;
				border-radius: 0;

				background-color: #c0c0c0;
				color: #000000;

				border: none;
				box-shadow: none;

				transition: background-color 0.1s linear;
			}

			.tag:hover {
				background-color: #b0b0b0;
			}
			
			.tag::after {
				content: attr(data-info);
				position: absolute;
				bottom: 120%;
				left: 0;

				display: inline-block;
				white-space: nowrap;
				width: auto;
				max-width: none;

				background-color: #c0c0c0;
				color: #000000;
				padding: 6px 8px;
				font-size: 11px;

				border-top: 2px solid #ffffff;
				border-left: 2px solid #ffffff;
				border-right: 2px solid #404040;
				border-bottom: 2px solid #404040;
				box-shadow: 2px 2px 0 #000000;

				opacity: 0;
				pointer-events: none;
				z-index: 20;
				transform: translateY(6px);
				transition: opacity 0.15s linear, transform 0.15s linear;
			}

			.tag:hover::after {
				opacity: 1;
				transform: translateY(0);
			}
			
			.tag-action {
				cursor: pointer; /* clickable tags use pointer instead of help */
			}

			.tag-marker {
				font-size: 10px;
				opacity: 0.8;
				margin-left: 2px;
			}

			#lightbox-overlay {
				display: none;
				position: fixed;
				inset: 0;
				background-color: rgba(0, 0, 0, 0.8);
				z-index: 9999;
				justify-content: center;
				align-items: center;
			}
			#lightbox-inner {
				max-width: 90vw;
				max-height: 90vh;
				background-color: #000000;
				padding: 6px;
				border-top: 3px solid #ffffff;
				border-left: 3px solid #ffffff;
				border-right: 3px solid #404040;
				border-bottom: 3px solid #404040;
			}
			#lightbox-image {
				max-width: 100%;
				max-height: 100%;
				display: block;
			}

			.credits {
				max-width: 960px;
				margin: 0 auto;
				padding: 8px 10px 15px;
				font-size: 11px;
				font-family: Verdana, Tahoma, Arial, sans-serif;
				text-align: center;
				background-color: var(--bg-content);
				border-left: 2px solid var(--win95-border-light);
				border-right: 2px solid var(--win95-border-light);
				border-bottom: 2px solid var(--win95-border-light);
			}
			.credits a {
				color: var(--accent);
				text-decoration: underline;
			}
			.credits a:hover {
				text-decoration: none;
			}
			.badge-bar {
				margin-top: 8px;
			}
			.badge-bar img {
				margin: 2px;
				border: 1px solid #000000;
			}
			.card img,
			.card video,
			.gallery-image-wrapper,
			.win95-panel {
				width: 100%;
				box-sizing: border-box;
			}
			.card img,
			.card video {
				width: 100%;
				border-radius: 0;
				margin-bottom: 8px;
				display: block;
				border: 2px solid #000000;
			}
			.video-badge {
				position: absolute;
				top: 4px;
				left: 4px;
				padding: 2px 6px;
				font-size: 10px;
				color: #000000;
				background-color: #c0c0c0;
				border-top: 2px solid #ffffff;
				border-left: 2px solid #ffffff;
				border-right: 2px solid #404040;
				border-bottom: 2px solid #404040;
				pointer-events: none;
			}
		</style>
	</head>
	<body>
		<div class="page-wrap">
			<header>
				<h1>cj4's portfolio</h1>
				<nav id="nav"></nav>
				<div id="header-bar" class="header-bar"></div>
			</header>
			<div class="divider"></div>
			<section class="content-section">
				<div class="cards-container" id="cards-container">
					<!-- Cards load here dynamically -->
				</div>
			</section>
			<div class="credits">
				made by <a href="https://github.com/cj4/portfolio" target="_blank">cj4</a> (@cj4hiaqoi)<hr>
				template source by <a href="https://github.com/sehvie/portfolio" target="_blank">sevie</a> (@sehvie)
				<div class="badge-bar">
					<!-- gif button space. please host ur gifs on like imgur or something i wont accept it if you use a host i don't recognize -->
					<img src="/portfolio/assets/notepadpp2.gif">
					<!--
						use as template: (no hyperlinks pls)
						<img src="buttons/html.gif" alt="HTML 4.01">
					-->
				</div>
			</div>
		</div>
		<div id="lightbox-overlay">
			<div id="lightbox-inner">
				<img id="lightbox-image" src="" alt="" />
			</div>
		</div>
		<script>
			const yearsText = new Date().getFullYear() - 2008;
			const devyearsText = yearsText - 7;

			// data
			const categories = [
				{ id: "home", label: "home" }, // home tab, uses header-bar text
				{ id: "works", label: "works" },
				{ id: "games", label: "projects" },
				{ id: "helps", label: "contributions" },
			];

			const categoryDescriptions = {
				home:
					"cj4hiaqoi", //no longer appears
				works:
					"the main stuff; i just make stuff casually, no one knows why",
				games:
					"bigger projects (more formal) that i'm a part of",
				helps:
					"contributions to projects that i'm NOT a part of",
			};
			
			const landingMessages = [
				"helllloo?",
				"auuuuuuurrr",
				"greetings",
				"welcome to my base",
				"good now",
			];
			
			const cards = [
				// HOME
				{
					category: "home",
					title: "read me",
					subtitle: "12/1/2025",
					image: null,
					imageAlt: null,
					gallery: null,
					description:
						`hi i'm cj, i've been on roblox for ${yearsText} years, and a dev for ${devyearsText} years<hr>` +
						`the majority of my work consists of passion projects or remakes<hr>` +
						`i do not focus on monetization tactics; creative intention is more important to me`,
					tags: null,
				},
				{
					category: "home",
					title: "socials",
					subtitle: "12/1/2025",
					image: null,
					imageAlt: null,
					gallery: null,
					description:
						`i am a reserved and closed person; it is very rare for me to use public social media<hr>` +
						`from personal experience, social media is always ingenuine and transactional in some shape or form, which is the complete opposite of what is needed for creative expression<hr>` +
						`that being said, these are my personal accounts; please refrain from stalking or using these for commercial intentions`,
					tags: [
						{
							label: "disc",
							info: "@cj4",
							copy: "cj4"
						},
						{
							label: "roblox",
							info: "my profile",
							href: "https://www.roblox.com/users/686644/profile"
						},
					],
				},
				
				// WORKS
				{
					category: "works",
					title: "ash twin project (outer wilds)",
					subtitle: "2025",
					image: null,
					imageAlt: null,
					video: "/portfolio/assets/videos/supernova.mp4",
					gallery: null,
					description: "recreation of the ash twin project, as well as the supernova<hr>this is used during a server shutdown<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/753640"
						},
					],
				},
				{
					category: "works",
					title: "bad sun (voices of the void)",
					subtitle: "2025",
					image: null,
					imageAlt: null,
					video: "/portfolio/assets/videos/badsun.mp4",
					gallery: null,
					description: "recreation of the bad sun event, also known as When Dawn Breaks<hr>melts anyone out in the sun<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://mrdrnose.itch.io/votv"
						},
					],
				},
				{
					category: "works",
					title: "jade system (nine sols)",
					subtitle: "2024-2025",
					image: null,
					imageAlt: null,
					video: "/portfolio/assets/videos/eigong.mp4",
					gallery: null,
					description: "recreation of the nine sols system, as well as the final boss fight<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "animations",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "video",
							info: "demonstration youtube link",
							href: "https://www.youtube.com/watch?v=xtWy286_gFk"
						},
						{
							label: "demo",
							info: "demonstration game link",
							href: "https://www.roblox.com/games/87863350904179"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/1809540"
						},
					],
				},
				{
					category: "works",
					title: "the wind waker (the legend of zelda)",
					subtitle: "2025",
					image: null,
					imageAlt: null,
					video: "/portfolio/assets/videos/windwaker.mp4",
					gallery: null,
					description: "recreation of the wind waker<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "animations",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "demo",
							info: "demonstration game link",
							href: "https://www.roblox.com/games/265124136"
						},
						{
							label: "source",
							info: "the original's wiki",
							href: "https://en.wikipedia.org/wiki/The_Legend_of_Zelda:_The_Wind_Waker"
						},
					],
				},
				{
					category: "works",
					title: "simple TARDIS (doctor who)",
					subtitle: "2025",
					image: null,
					imageAlt: null,
					video: "/portfolio/assets/videos/tardis.mp4",
					gallery: null,
					description: "recreation of the TARDIS<hr>there are countless fanmade recreations of the TARDIS all over the internet, usually with complex controls and features; however, my interperetation of the TARDIS is a simple one, focusing on control and features in the show itself rather than being complex for the sake of being complex; it is akin to the gmod TARDIS<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "source",
							info: "the original's wiki",
							href: "https://en.wikipedia.org/wiki/Doctor_Who"
						},
					],
				},
				{
					category: "works",
					title: "doomguy (doom eternal)",
					subtitle: "2023",
					image: null,
					imageAlt: null,
					video: null,
					gallery: null,
					description: "recreation of the doom eternal system<hr>i was experimenting with porting models and animations at the time<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "demo",
							info: "demonstration game link",
							href: "https://www.roblox.com/games/9337165499"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/782330"
						},
					],
				},
				{
					category: "works",
					title: "portal gun (portal reloaded)",
					subtitle: "2019-2022",
					image: null,
					imageAlt: null,
					video: "/portfolio/assets/videos/portal.mp4",
					gallery: null,
					description: "recreation of valve's portal gun<hr>this specific portal gun comes from a mod that introduces time travel<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "portals and time travel (borrows egomoose's viewport cameras and a source engine bhop)"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "video",
							info: "demonstration youtube link",
							href: "https://www.youtube.com/watch?v=YRURLSzrDVc"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/1255980"
						},
					],
				},
				{
					category: "works",
					title: "card table (inscryption)",
					subtitle: "2021-2022",
					image: null,
					imageAlt: null,
					video: null,
					gallery: null,
					description: "PvP version of inscryption's act 1<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					description:
						'based off of the game inscryption<hr>this is another fan project that was put into game format (so people could play it whenever they wanted)<hr>this was meant to be a solution to the lack of multiplayer in the original, i wanted to vs my friends so bad lol<hr>i stopped working on this because it felt like nothing more could be added',
					tags: [
						{
							label: "scripting",
							info: "all of it",
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "video",
							info: "demonstration youtube link",
							href: "https://www.youtube.com/watch?v=GcWgmkiuElI"
						},
						{
							label: "demo",
							info: "demonstration game link",
							href: "https://www.roblox.com/games/8108767087"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/1092790"
						},
					],
				},
				{
					category: "works",
					title: "mercenary (resident evil)",
					subtitle: "2019-2025",
					image: null,
					imageAlt: null,
					video: null,
					gallery: null,
					description: "recreation of the resident evil tank controls<hr>this is a beautiful mix of re5 and re4 remake systems<hr>wearing different classic roblox accessories changes your character's moveset<hr>this is in a portable format and can interact universally with other games/npcs/scripts",
					tags: [
						{
							label: "scripting",
							info: "all of it"
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "demo",
							info: "demonstration game link",
							href: "https://www.roblox.com/games/9337165499"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/21690"
						},
					],
				},
				{
					category: "works",
					title: "notice",
					subtitle: "",
					image: null,
					imageAlt: null,
					video: null,
					gallery: null,
					description: "this page is unfinished",
					tags: null
				},
				
				// GAMES
				{
					category: "games",
					title: "Rooms & Doors",
					subtitle: "Creator 2020-Present",
					image: null,
					imageAlt: "game thumbnails",
					gallery: [
						"https://tr.rbxcdn.com/180DAY-a560f0f258be5963a32b85b9b10695e2/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-03f4ab6cefda70036ce2ec1c5287dc96/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-84149e601a13329143b39a5f6468f148/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-d5fc3ed1a58585721a498ff2ab695593/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-dd4b93faa30921053df6dba869a41d41/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-69c314aaacf1f1c50f824627820ddff3/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-6835718912d89014a4fded5720d3d494/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-46be53394e82adc7cb674ca3f8410463/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-27fe6eb51415b8589be8b8fa22734e46/768/432/Image/Webp/noFilter",
					],
					description:
						"based off of magic's Rooms+ and nicorocks' Rooms<hr>this is my current project as of late<hr>i absolutely love the horror genre, it's no surprise most of my projects are horror related<hr>the main drive for a remake was to expand upon the originals' ambient design; their gameplay was simple but so was everything else, which left room for improvement<hr>since the beginning, i used this game as an opportunity for experimentation; trying out unintended engine features and pushing roblox to its limits with amazing results, primarily viewport frame magic<hr>a while after DOORS came out, i embraced the difficulty aspect that my game had after being disappointed with how slow paced and easy to finish DOORS was",
					tags: [
						{
							label: "scripting",
							info: "nearly all of it",
						},
						{
							label: "animation",
							info: "nearly all of it",
						},
						{
							label: "ui",
							info: "all of it (not the art)",
						},
						{
							label: "sound design",
							info: "(not recorded by me)",
						},
						{
							label: "music",
							info: "vent (Room A-60), omega (Room A-1000)",
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "game",
							info: "game link",
							href: "https://www.roblox.com/games/5865058321"
						},
						{
							label: "group",
							info: "group link",
							href: "https://www.roblox.com/groups/34212935"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://www.roblox.com/games/5076734934"
						},
					],
				},
				{
					category: "games",
					title: "enscrypted",
					subtitle: "Creator 2021-2022",
					image: null,
					imageAlt: "game thumbnails",
					gallery: [
						"https://tr.rbxcdn.com/180DAY-2c09a11eec565bbbe649a889ca933d84/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-96437c9ec1f2b5a60594c3299ab3378d/768/432/Image/Webp/noFilter",
					],
					description:
						'based off of the game inscryption<hr>this is another fan project that was put into game format (so people could play it whenever they wanted)<hr>this was meant to be a solution to the lack of multiplayer in the original, i wanted to vs my friends so bad lol<hr>i stopped working on this because it felt like nothing more could be added',
					tags: [
						{
							label: "scripting",
							info: "all of it",
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "game",
							info: "game link",
							href: "https://www.roblox.com/games/8108767087"
						},
						{
							label: "source",
							info: "the original game",
							href: "https://store.steampowered.com/app/1092790"
						},
					],
				},
				{
					category: "games",
					title: "Anthropolious",
					subtitle: "Developer 2022-Present",
					image: null,
					imageAlt: "game thumbnails",
					gallery: [
						"https://tr.rbxcdn.com/180DAY-d133219b3e2cf59bc6cd57b3556280ff/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-f9f5e15407354fbe3475f915971ce7ce/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-408ee2bcee7a0d4dfe6fc5332c3c1e8d/768/432/Image/Webp/noFilter",
						"https://tr.rbxcdn.com/180DAY-9577893d7bb99dd9ac9c3588d7bfbd72/768/432/Image/Webp/noFilter",
					],
					description:
						"a community hangout game, where you hang out with the community in a game<hr>most of my work consists of backend stuff<hr>sometimes i moderate using my own tools; it's not my job but i'll take action anyways if someone utterly vile is in the game",
					tags: [
						{
							label: "scripting",
							info: "ui, settings, saving, secrets, backend, admin tools, server restart",
						},
						{
							label: "ui",
							info: "settings ui",
						},
						{
							label: "playtesting",
							info: "i play ALL of my works; i am my own audience"
						},
						{
							label: "group",
							info: "group link",
							href: "https://www.roblox.com/communities/14784323/TPR-AnthropoIis",
						},
						{
							label: "game",
							info: "game link",
							href: "https://www.roblox.com/games/6675127933"
						},
					],
				},
				
				// HELPS
				{
					category: "helps",
					title: "notice",
					subtitle: "",
					image: null,
					imageAlt: null,
					video: null,
					gallery: null,
					description: "this page is unfinished",
					tags: null
				},
			];

			const navElement = document.getElementById("nav");
			const container = document.getElementById("cards-container");
			const lightboxOverlay = document.getElementById("lightbox-overlay");
			const lightboxImage = document.getElementById("lightbox-image");
			const headerBarElement = document.getElementById("header-bar");

			function escapeHtml(str) {
				return String(str)
					.replace(/&/g, "&amp;")
					.replace(/</g, "&lt;")
					.replace(/>/g, "&gt;")
					.replace(/"/g, "&quot;");
			}

			function renderCard(card) {
				let html = "";
				
				html += '<div class="card">';
				html += '<div class="card-header">';
				html += "<h2>" + escapeHtml(card.title) + "</h2>";
				if (card.subtitle) {
					html += '<div class="subtext">' + escapeHtml(card.subtitle) + "</div>";
				}
				html += "</div>";

				if (card.video) {
					html += '<div class="video-wrapper" style="position: relative;">';
					html += '	<div class="video-badge">Video</div>';
					html += '	<video class="card-video" preload="auto" playsinline>';
					html += '		<source src="' + escapeHtml(card.video) + '" type="video/mp4">';
					html += '		Your browser does not support the video tag.';
					html += "	</video>";
					html += "</div>";
				}

				if (card.image) {
					html +=
						'<img class="zoomable-image" src="' +
						card.image +
						'" alt="' +
						escapeHtml(card.imageAlt || "") +
						'">';
				}

				if (Array.isArray(card.gallery) && card.gallery.length > 0) {
					const imagesAttr = card.gallery.join("|");
					const firstSrc = card.gallery[0];

					html += '<div class="gallery" data-images="' + imagesAttr + '">';
					html += '  <div class="gallery-image-wrapper">';
					html += '	<img class="gallery-image zoomable-image" src="' + firstSrc + '" alt="">';
					html += '	<div class="gallery-counter">1 / ' + card.gallery.length + "</div>";
					html += '	<div class="gallery-arrow gallery-arrow-left" data-dir="prev">&#9664;</div>';
					html += '	<div class="gallery-arrow gallery-arrow-right" data-dir="next">&#9654;</div>';
					html += "  </div>";
					html += "</div>";
				}

				html += '<div class="win95-panel">';
				html += '  <div class="win95-tabs">';
				html += '	<div class="win95-tab active">summary</div>';

				if (Array.isArray(card.tags) && card.tags.length > 0) {
					html += '	<div class="tags">';
					card.tags.forEach((tag) => {
						const attrs = [];

						if (tag.info) {
							attrs.push('data-info="' + escapeHtml(tag.info) + '"');
						}

						if (tag.href) {
							attrs.push('data-href="' + escapeHtml(tag.href) + '"');
						}
						if (tag.copy) {
							attrs.push('data-copy="' + escapeHtml(tag.copy) + '"');
						}

						let marker = "";
						if (tag.copy) {
							marker = ' <span class="tag-marker">(copy)</span>';
						} else if (tag.href) {
							marker = ' <span class="tag-marker">(link)</span>';
						}

						html +=
							'<div class="tag" ' +
							attrs.join(" ") +
							">" +
							escapeHtml(tag.label) +
							marker +
							"</div>";
					});
					html += "	</div>";
				}


				html += "  </div>"; // .win95-tabs

				html += '  <div class="win95-body">';
				html += "	" + card.description;
				//html += "	<p>" + escapeHtml(card.description || "") + "</p>";
				html += "  </div>";

				html += "</div>"; // .win95-panel
				html += "</div>"; // .card

				return html;
			}



			function initGalleries() {
				const galleries = document.querySelectorAll(".gallery");
				galleries.forEach((gallery) => {
					const imagesStr = gallery.dataset.images || "";
					const sources = imagesStr.split("|").filter(Boolean);
					if (sources.length === 0) return;

					const imgEl = gallery.querySelector(".gallery-image");
					const counterEl = gallery.querySelector(".gallery-counter");
					const arrows = gallery.querySelectorAll(".gallery-arrow");

					let current = 0;

					function update() {
						imgEl.src = sources[current];
						if (counterEl) {
							counterEl.textContent = current + 1 + " / " + sources.length;
						}
					}

					arrows.forEach((arrow) => {
						arrow.addEventListener("click", (e) => {
							e.stopPropagation();
							const dir = arrow.dataset.dir;
							if (dir === "prev") {
								current = (current - 1 + sources.length) % sources.length;
							} else {
								current = (current + 1) % sources.length;
							}
							update();
						});
					});

					update();
				});
			}
			
			function copyToClipboard(text) {
				if (navigator.clipboard && navigator.clipboard.writeText) {
					return navigator.clipboard.writeText(text);
				}

				return new Promise((resolve, reject) => {
					const textarea = document.createElement("textarea");
					textarea.value = text;
					textarea.style.position = "fixed";
					textarea.style.left = "-9999px";
					document.body.appendChild(textarea);
					textarea.focus();
					textarea.select();
					try {
						const ok = document.execCommand("copy");
						document.body.removeChild(textarea);
						if (!ok) reject(new Error("execCommand failed"));
						else resolve();
					} catch (err) {
						document.body.removeChild(textarea);
						reject(err);
					}
				});
			}

			function initTagActions() {
				const tags = container.querySelectorAll(".tag");

				tags.forEach((tag) => {
					const href = tag.dataset.href || "";
					const copyText = tag.dataset.copy || "";

					if (!href && !copyText) {
						return;
					}

					tag.classList.add("tag-action");

					tag.addEventListener("click", (e) => {
						e.preventDefault();
						e.stopPropagation();

						if (copyText) {
							const originalInfo = tag.dataset.info || "";
							tag.dataset.info = "Copied!";
							copyToClipboard(copyText).finally(() => {
								// restore tooltip text after a short delay
								setTimeout(() => {
									tag.dataset.info = originalInfo;
								}, 1000);
							});
							return;
						}

						if (href) {
							window.open(href, "_blank", "noopener");
						}
					});
				});
			}


			function initLightbox() {
				lightboxOverlay.addEventListener("click", (e) => {
					if (e.target === lightboxOverlay) {
						lightboxOverlay.style.display = "none";
					}
				});

				document.addEventListener("keydown", (e) => {
					if (e.key === "Escape") {
						lightboxOverlay.style.display = "none";
					}
				});
			}

			function attachZoomHandlers() {
					const zoomables = container.querySelectorAll(".zoomable-image");
					zoomables.forEach((img) => {
						img.style.cursor = "zoom-in";
						img.addEventListener("click", () => {
							lightboxImage.src = img.src;
							lightboxOverlay.style.display = "flex";
						});
					});
				}
				
			function initHoverVideos() {
				const videos = container.querySelectorAll(".card-video");
				videos.forEach((video) => {
					video.addEventListener("mouseenter", () => {
						const maybePromise = video.play();
						if (maybePromise && typeof maybePromise.then === "function") {
							maybePromise.catch(() => {
							});
						}
					});

					video.addEventListener("mouseleave", () => {
						video.pause();
						video.currentTime = 0;
					});
				});
			}

			function updateHeaderBar(categoryId) {
				if (!headerBarElement) return;

				if (categoryId === "home") {
					const list = landingMessages;
					const idx = Math.floor(Math.random() * list.length);
					headerBarElement.innerHTML = list[idx];
				} else {
					headerBarElement.innerHTML =
						categoryDescriptions[categoryId] || "";
				}
			}

			function renderSection(categoryId) {
				const filtered = cards.filter((card) => card.category === categoryId);
				if (filtered.length === 0) {
					container.innerHTML = "<p>No content.</p>";
					return;
				}

				container.innerHTML = filtered.map(renderCard).join("");
				initGalleries();
				attachZoomHandlers();
				initHoverVideos();
				initTagActions();
			}

			function buildNav() {
				navElement.innerHTML = "";

				categories.forEach((cat, index) => {
					const btn = document.createElement("button");
					btn.textContent = cat.label;
					btn.dataset.section = cat.id;
					if (index === 0) {
						btn.classList.add("active");
					}
					btn.addEventListener("click", () => {
						Array.from(navElement.querySelectorAll("button")).forEach((b) => b.classList.remove("active"));
						btn.classList.add("active");
						updateHeaderBar(cat.id);
						renderSection(cat.id);
					});
					navElement.appendChild(btn);
				});
			}

			buildNav();
			initLightbox();
			updateHeaderBar(categories[0].id);
			renderSection(categories[0].id);
			
			(function initParallaxBackground() {
				function onScroll() {
					const offset = window.scrollY * -0.2;
					document.body.style.setProperty("--bg-image-offset", offset + "px");
				}

				window.addEventListener("scroll", onScroll, { passive: true });
				onScroll();
			})();
		</script>
	</body>
</html>
